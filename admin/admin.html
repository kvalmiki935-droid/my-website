<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<link rel="stylesheet" href="../styles.css">
</head>
<body>

<header class="main-header">
  <div class="logo">Admin Panel</div>
</header>

<section style="max-width:900px;margin:auto;padding:30px">

  <!-- LOGIN -->
  <div id="login-box">
    <h2>Admin Login</h2>
    <input type="password" id="admin-pass" placeholder="Enter Admin Password">
    <button onclick="login()">Login</button>
  </div>

  <!-- DASHBOARD -->
  <div id="dashboard" style="display:none">
    <h2>Orders</h2>

    <table width="100%" border="1" cellpadding="10">
      <thead>
        <tr>
          <th>Order ID</th>
          <th>Date</th>
          <th>Items</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody id="orders-table"></tbody>
    </table>

    <br>
    <button onclick="clearOrders()" style="background:red">Clear All Orders</button>
  </div>

</section>

<script>
const PASSWORD = "B3smart#"; // üîê CHANGE THIS

function login() {
  const pass = document.getElementById("admin-pass").value;
  if (pass === PASSWORD) {
    document.getElementById("login-box").style.display = "none";
    document.getElementById("dashboard").style.display = "block";
    loadOrders();
  } else {
    alert("Wrong Password");
  }
}

function loadOrders() {
  const orders = JSON.parse(localStorage.getItem("orders")) || [];
  const table = document.getElementById("orders-table");
  table.innerHTML = "";

  if (orders.length === 0) {
    table.innerHTML = "<tr><td colspan='4'>No Orders</td></tr>";
    return;
  }

  orders.forEach(o => {
    let items = o.items.map(i => `${i.name} x ${i.qty}`).join("<br>");
    table.innerHTML += `
      <tr>
        <td>${o.id}</td>
        <td>${o.date}</td>
        <td>${items}</td>
        <td>‚Çπ${o.total}</td>
      </tr>
    `;
  });
}

function clearOrders() {
  if (confirm("Delete all orders?")) {
    localStorage.removeItem("orders");
    loadOrders();
  }
}
</script>

</body>
</html>
